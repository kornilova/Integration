<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="insurer">

    <insert id="insert" parameterType="com.estylesoft.integration.Model.Ptks.InsurerModel">
        insert into STH_INSURER (
        INS_REG_NUM,
        TP_ID,
        FNSD_ID,
        RDV_ID,
        RDV_CODE,
        TDP_ID,
        TDP_CODE,
        REGD_ID,
        CITY_ID,
        STREET_ID,
        CT_ID,
        OKVED_ID,
        OPF_ID,
        AR_ID,
        RR_ID,
        STS_ID,
        TOWN_ID,
        ULSTART_RGK_ID,
        ULFINISH_RGK_ID,
        USR_ID,
        INS_OGRN,
        INS_INN,
        INS_STATUS_CHANGE,
        INS_REGISTER_FNS,
        INS_UNREGISTER_FNS,
        INS_ARRANGE_PFR,
        INS_UNARRANGE_DATE,
        INS_REGISTER_PFR,
        INS_OKATO_CODE,
        INS_PHONE_CODE,
        INS_PHONE_NUM,
        INS_FAX_NUM,
        INS_ZIP_CODE,
        INS_HOUSE,
        INS_BUILDING,
        INS_ROOM,
        INS_RL_REGION,
        INS_RL_TERRITORY,
        INS_RL_ZIPCODE,
        INS_RL_CITY,
        INS_RL_TOWN,
        INS_RL_STREET,
        INS_RL_HOUSE,
        INS_RL_BUILDING,
        INS_RL_ROOM,
        INS_DESCR,
        INS_GET_SALARY,
        INS_REG_CERT,
        INS_ONE_WINDOW,
        INS_LAST_UPDATE,
        INS_CREATE_DATE,
        INS_REGISTER_RO,
        INS_UNREGISTER_RO,
        INS_AUTOMATIC,
        INS_INSURER_TYPE,
        INS_STRAH_NUM,
        INS_FIRST_NAME,
        INS_LAST_NAME,
        INS_MID_NAME,
        INS_SEX,
        INS_BIRHPLACE,
        INS_BIRTHDAY,
        INS_TYPE_DOC,
        INS_SER_DOC,
        INS_NUM_DOC,
        INS_DATE_DOC,
        INS_NAME_ORG_DOC,
        INS_CODE_ORG_DOC,
        INS_KPP,
        INS_FULL_NAME,
        INS_SHORT_NAME,
        INS_TRADE_NAME,
        INS_OLD_REG_NUM_RO,
        INS_FOMS_REG_NUM,
        INS_FOMS_ARRANGE,
        INS_FOMS_UNARRANGE,
        INS_FOMS_ORG_KOD,
        INS_FOMS_ORG_NAME,
        INS_ORG_KIND,
        INS_WRITE_OFF,
        INS_ACTUAL)
        select
        #{insRegNum,javaType=Long,jdbcType=BIGINT},
        (SELECT TP_ID FROM STH_TYPE WHERE TP_NAME=#{insTypeName,jdbcType=VARCHAR}),
        #{ifns.id,javaType=Long,jdbcType=BIGINT},
        #{baseDepartment.id,javaType=Long,jdbcType=BIGINT},
        #{baseDepartment.code,javaType=String,jdbcType=INTEGER},
        #{terDepartmentPFR.id,javaType=Long,jdbcType=BIGINT},
        #{terDepartmentPFR.code,javaType=String,jdbcType=INTEGER},
        #{registrationDepartment.id,javaType=Long,jdbcType=BIGINT},
        #{city.id,javaType=Long,jdbcType=BIGINT},
        #{street.id,javaType=Long,jdbcType=BIGINT},
        (SELECT CT_ID FROM STH_CATEGORY WHERE CT_CODE=#{insCategoryCode,jdbcType=VARCHAR}),
        #{okved.id,javaType=Long,jdbcType=BIGINT},
        #{opf.id,javaType=Long,jdbcType=BIGINT},
        (SELECT AR_ID FROM STH_ARRANGE_REG WHERE AR_CODE=#{insStartTypeCode,jdbcType=BIGINT}),
        (SELECT RR_ID FROM STH_RELEASE_REG WHERE RR_CODE=#{insFinishTypeCode,jdbcType=BIGINT}),
        (SELECT STS_ID FROM STH_STATUS WHERE STS_CODE=#{insStatusCode,jdbcType=VARCHAR}),
        #{town.id,javaType=Long,jdbcType=BIGINT},
        #{startRegistrationKind.id,javaType=Long,jdbcType=BIGINT},
        #{finishRegistrationKind.id,javaType=Long,jdbcType=BIGINT},
        (SELECT USR_ID FROM STH_USER WHERE USR_LOGIN=#{userLogin,jdbcType=VARCHAR}),
        #{ogrn,javaType=Long,jdbcType=BIGINT},
        #{inn,javaType=Long,jdbcType=BIGINT},
        #{statusChangeDate,javaType=DATE,jdbcType=DATE},
        #{registrationFnsDate,javaType=DATE,jdbcType=DATE},
        #{unRegistrationFnsDate,javaType=DATE,jdbcType=DATE},
        #{startRegistartionPfrDate,javaType=DATE,jdbcType=DATE},
        #{finishRegistartionPfrDate,javaType=DATE,jdbcType=DATE},
        #{registrationPfrDate,javaType=DATE,jdbcType=DATE},
        #{okatoCode,jdbcType=VARCHAR},
        #{phoneCode,jdbcType=VARCHAR},
        #{phoneNumber,jdbcType=VARCHAR},
        #{phoneFaxNumber,jdbcType=VARCHAR},
        #{zipCode,jdbcType=VARCHAR},
        #{house,jdbcType=VARCHAR},
        #{building,jdbcType=VARCHAR},
        #{room,jdbcType=VARCHAR},
        #{region.name,jdbcType=VARCHAR},
        #{admTerritory.name,jdbcType=VARCHAR},
        #{factZipCode,jdbcType=VARCHAR},
        #{city.name,jdbcType=VARCHAR},
        #{town.name,jdbcType=VARCHAR},
        #{street.name,jdbcType=VARCHAR},
        #{factHouse,jdbcType=VARCHAR},
        #{factBuilding,jdbcType=VARCHAR},
        #{factRoom,jdbcType=VARCHAR},
        #{description,jdbcType=VARCHAR},
        #{getSalary,javaType=Long,jdbcType=INTEGER},
        #{regCertificate,jdbcType=VARCHAR},
        #{oneWindow,javaType=Long,jdbcType=INTEGER},
        #{lastUpdateDate,javaType=DATE,jdbcType=DATE},
        #{createDate,javaType=DATE,jdbcType=DATE},
        #{registerRO,javaType=DATE,jdbcType=DATE},
        #{unRegisterRO,javaType=DATE,jdbcType=DATE},
        #{atomic,javaType=Long,jdbcType=INTEGER},
        #{addInsType,javaType=Long,jdbcType=INTEGER},
        #{strahNumber,javaType=Long,jdbcType=BIGINT},
        #{firstName,jdbcType=VARCHAR},
        #{lastName,jdbcType=VARCHAR},
        #{middleName,jdbcType=VARCHAR},
        #{sex,javaType=Long,jdbcType=INTEGER},
        #{birthPlace,jdbcType=VARCHAR},
        #{birthDay,javaType=DATE,jdbcType=DATE},
        #{typeDoc,jdbcType=VARCHAR},
        #{seriesDoc,jdbcType=VARCHAR},
        #{numDoc,jdbcType=VARCHAR},
        #{dateDoc,javaType=DATE,jdbcType=DATE},
        #{nameOrgDoc,jdbcType=VARCHAR},
        #{codeOrgDoc,jdbcType=VARCHAR},
        #{kpp,javaType=Long,jdbcType=BIGINT},
        #{fullName,jdbcType=VARCHAR},
        #{shortName,jdbcType=VARCHAR},
        #{tradeName,jdbcType=VARCHAR},
        #{oldRegNumRo,jdbcType=VARCHAR},
        #{fomsRegNum,jdbcType=VARCHAR},
        #{startFomsDate,javaType=DATE,jdbcType=DATE},
        #{finishFomsDate,javaType=DATE,jdbcType=DATE},
        #{fomsOrgCode,jdbcType=VARCHAR},
        #{fomsOrgName,jdbcType=VARCHAR},
        #{orgKind,javaType=Long,jdbcType=SMALLINT},
        #{writeOff,javaType=Long,jdbcType=SMALLINT},
        #{isActual,javaType=Long,jdbcType=SMALLINT}
        from sysibm.SYSDUMMY1
    </insert>

    <delete id="delete" parameterType="com.estylesoft.integration.Model.Ptks.InsurerModel">
        delete from STH_INSURER where  INS_REG_NUM = #{insRegNum}
    </delete>

</mapper>
